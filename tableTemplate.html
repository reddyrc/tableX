<table id="table" class="table">
    <thead>
        <tr>
            <th ng-repeat="header in headers" scope="col">
              <span class="sortable" ng-keyup="processHeaderKeypress($event, header)" title="Click to..." ng-click="doSort(header)" ng-if="!header.sorted && header.sortable" tabindex="0">
                {{header.headerName}}
              </span>
              <span ng-if="!header.sortable || header.sorted">
                {{header.headerName}}
                <span ng-if="header.sorted" class="glyphicon glyphicon-chevron-up"/>
              </span>
              <span ng-if="false && header.sortable" tabindex="0" ng-click="doSort(header)"
              class="glyphicon glyphicon-chevron-up"/>
            </th>
        </tr>
    </thead>
    <tbody>
        <tr ng-repeat-start="$item in records" inject>
        </tr>

        <tr ng-repeat="history in $item.history" ng-if="$item.showChildren">
            <td ng-repeat="header in headers" style="background-color: gray;">
                <div ng-if="$index == 1" style="padding-left: 20px">
                    {{getHistoryValue(history, header)}}
                </div>
                <div ng-if="$index != 1">
                    {{getHistoryValue(history, header)}}
                </div>
            </td>
        </tr>

        <tr ng-repeat-end></tr>
    </tbody>
</table>
